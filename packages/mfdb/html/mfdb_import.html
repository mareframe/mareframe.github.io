<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: MareFrame Import functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for mfdb_import {mfdb}"><tr><td>mfdb_import {mfdb}</td><td align="right">R Documentation</td></tr></table>

<h2>MareFrame Import functions</h2>

<h3>Description</h3>

<p>Functions to import data into MareFrame DB
</p>


<h3>Usage</h3>

<pre>
    mfdb_import_survey(mdb, data_in, ...)
    mfdb_import_area(mdb, data_in)
    mfdb_import_division(mdb, data_in)
    mfdb_import_temperature(mdb, data_in)
    mfdb_import_sampling_type(mdb, data_in)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>mdb</code></td>
<td>

<p>Database connection created by <code>mfdb()</code>.
</p>
</td></tr>
<tr valign="top"><td><code>data_in</code></td>
<td>

<p>A <code>data.frame</code> of survey data to import, see details.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>Metadata about the survey data, see details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>mfdb_import_survey</code>, the metadata can contain:
</p>

<dl>
<dt>data_source</dt><dd><p>A name for this data, e.g. it's filename. Used so you can replace it later without disturbing other data</p>
</dd>
<dt>institute</dt><dd><p>Optional. An institute name, see mfdb::institute for possible values</p>
</dd>
<dt>gear</dt><dd><p>Optional. Gear name, see mfdb::gear for possible values</p>
</dd>
<dt>vessel</dt><dd><p>Optional. Vessel name, see mfdb::vessel for possible values</p>
</dd>
<dt>sampling_type</dt><dd><p>Optional. A sampling_type, see mfdb::sampling_type for possible values</p>
</dd>
</dl>

<p>And <code>data_in</code> should be a data.frame with the following columns:
</p>

<dl>
<dt>year</dt><dd><p>Required. Year each sample was taken, e.g. <code>c(2000,2001)</code></p>
</dd>
<dt>month</dt><dd><p>Required. Month (1&ndash;12) each sample was taken, e.g. <code>c(1,12)</code></p>
</dd>
<dt>areacell</dt><dd><p>Required. Areacell sample was taken within</p>
</dd>
<dt>species</dt><dd><p>Optional, default <code>c(NA)</code>. Species of sample, see mfdb::species for possible values</p>
</dd>
<dt>age</dt><dd><p>Optional, default <code>c(NA)</code>. Age of sample, or mean age</p>
</dd>
<dt>sex</dt><dd><p>Optional, default <code>c(NA)</code>. Sex of sample, see mfdb::sex for possible values</p>
</dd>
<dt>length</dt><dd><p>Optional, default <code>c(NA)</code>. Length of sample / mean length of all samples</p>
</dd>
<dt>length_var</dt><dd><p>Optional, default <code>c(NA)</code>. Sample variance, if data is already aggregated</p>
</dd>
<dt>length_min</dt><dd><p>Optional, default <code>c(NA)</code>. Minimum theoretical length, if data is already aggregated</p>
</dd>
<dt>weight</dt><dd><p>Optional, default <code>c(NA)</code>. Weight of sample / mean weight of all samples</p>
</dd>
<dt>weight_var</dt><dd><p>Optional, default <code>c(NA)</code>. Sample variance, if data is already aggregated</p>
</dd>
<dt>count</dt><dd><p>Optional, default <code>c(1)</code>. Number of samples this row represents (i.e. if the data is aggregated)</p>
</dd>
</dl>

<p><code>mfdb_import_area</code> imports areacell information for your case study. The
<code>data_in</code> should be a data.frame with the following columns:
</p>

<dl>
<dt>id</dt><dd><p>A numeric ID for this areacell (will be combined with the case study number internally)</p>
</dd>
<dt>name</dt><dd><p>The name of the areacell, e.g. '45G01'</p>
</dd>
<dt>size</dt><dd><p>The size of the areacell</p>
</dd>
</dl>

<p><code>mfdb_import_division</code> imports groupings of areacells into divisions. The
<code>data_in</code> should be a list of areacell vectors, with division names.
For example, <code>list(divA = c('45G01', '45G02', '45G03'))</code>
</p>
<p><code>mfdb_import_temperature</code> imports temperature time-series data for
areacells. The <code>data_in</code> should be a data.frame with the following columns:
</p>

<dl>
<dt>id</dt><dd><p>A numeric ID for this areacell (will be combined with the case study number internally)</p>
</dd>
<dt>year</dt><dd><p>Required. Year each sample was taken, e.g. <code>c(2000,2001)</code></p>
</dd>
<dt>month</dt><dd><p>Required. Month (1&ndash;12) each sample was taken, e.g. <code>c(1,12)</code></p>
</dd>
<dt>areacell</dt><dd><p>Required. Areacell sample was taken within</p>
</dd>
<dt>temperature</dt><dd><p>The temperature at given location/time</p>
</dd>
</dl>

<p><code>mfdb_import_sampling_type</code> imports names of sampling types for this case
study. The <code>data_in</code> should be a data.frame with the following columns:
</p>

<dl>
<dt>id</dt><dd><p>A numeric ID for this sampling type</p>
</dd>
<dt>name</dt><dd><p>Required. A vector of short names to use in data, e.g. &quot;SEA&quot;</p>
</dd>
<dt>description</dt><dd><p>Optional. A vector of descriptive names, e.g. &quot;sea sampling&quot;</p>
</dd>
</dl>



<h3>Examples</h3>

<pre>## Not run: 
# data/cod-1998.csv contains:-
# year,month,areacell,species,age,sex,length
# 1998,1,35F1,COD,3,M,140
# 1998,1,35F1,COD,3,M,150
# 1998,1,35F1,COD,3,F,150

mfdb_import_survey(mdb,
    data_source = 'cod-1998',
    case_study = 'Iceland',
    institute = 'MRI',
    gear = 'GIL',
    vessel = '2.RSH',
    sampling_type = 'HAR',
    read.csv("data/cod-1998.csv"))

## End(Not run)</pre>

<hr><div align="center">[Package <em>mfdb</em> version 1.0 <a href="00Index.html">Index</a>]</div>
</body></html>
